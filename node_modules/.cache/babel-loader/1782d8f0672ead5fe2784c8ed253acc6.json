{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useRef } from \"react\";\nexport function useOnDraw() {\n  _s();\n\n  const canvasRef = useRef(null);\n\n  function setCanvasRef(ref) {\n    if (!ref) return;\n    canvasRef.current = ref;\n    initMouseMoveListener();\n  }\n\n  function initMouseMoveListener() {\n    const mouseMoveListener = e => {\n      console.log({\n        x: e.clientX,\n        y: e.clientY\n      });\n      const point = computePointInCanvas(e.clientX, e.clientY);\n      console.log;\n    };\n\n    window.addEventListener(\"mousemove\", mouseMoveListener);\n  }\n\n  function computePointInCanvas(clientX, clientY) {\n    if (canvasRef.current) {\n      const boundingRect = canvasRef.current.getBoundingClientReact();\n      return {\n        x: clientX - boundingRect.left,\n        y: clientY - boundingRect.top\n      };\n    } else {\n      return null;\n    }\n  }\n\n  return setCanvasRef;\n}\n\n_s(useOnDraw, \"hw7YJ5TVw+lAu0tRkzoDS8rL7/E=\");","map":{"version":3,"names":["useRef","useOnDraw","canvasRef","setCanvasRef","ref","current","initMouseMoveListener","mouseMoveListener","e","console","log","x","clientX","y","clientY","point","computePointInCanvas","window","addEventListener","boundingRect","getBoundingClientReact","left","top"],"sources":["/home/reza/Documents/MiniApp/canvas/src/components/hooks.js"],"sourcesContent":["import { useRef } from \"react\";\n\nexport function useOnDraw() {\n  const canvasRef = useRef(null);\n\n  function setCanvasRef(ref) {\n    if (!ref) return;\n    canvasRef.current = ref;\n    initMouseMoveListener();\n  }\n  function initMouseMoveListener() {\n    const mouseMoveListener = (e) => {\n      console.log({ x: e.clientX, y: e.clientY });\n      const point = computePointInCanvas(e.clientX, e.clientY);\n      console.log\n    };\n    window.addEventListener(\"mousemove\", mouseMoveListener);\n  }\n  function computePointInCanvas(clientX, clientY) {\n    if (canvasRef.current) {\n      const boundingRect = canvasRef.current.getBoundingClientReact();\n      return {\n        x: clientX - boundingRect.left,\n        y: clientY - boundingRect.top,\n      };\n    } else {\n      return null;\n    }\n  }\n  return setCanvasRef;\n}\n"],"mappings":";;AAAA,SAASA,MAAT,QAAuB,OAAvB;AAEA,OAAO,SAASC,SAAT,GAAqB;EAAA;;EAC1B,MAAMC,SAAS,GAAGF,MAAM,CAAC,IAAD,CAAxB;;EAEA,SAASG,YAAT,CAAsBC,GAAtB,EAA2B;IACzB,IAAI,CAACA,GAAL,EAAU;IACVF,SAAS,CAACG,OAAV,GAAoBD,GAApB;IACAE,qBAAqB;EACtB;;EACD,SAASA,qBAAT,GAAiC;IAC/B,MAAMC,iBAAiB,GAAIC,CAAD,IAAO;MAC/BC,OAAO,CAACC,GAAR,CAAY;QAAEC,CAAC,EAAEH,CAAC,CAACI,OAAP;QAAgBC,CAAC,EAAEL,CAAC,CAACM;MAArB,CAAZ;MACA,MAAMC,KAAK,GAAGC,oBAAoB,CAACR,CAAC,CAACI,OAAH,EAAYJ,CAAC,CAACM,OAAd,CAAlC;MACAL,OAAO,CAACC,GAAR;IACD,CAJD;;IAKAO,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqCX,iBAArC;EACD;;EACD,SAASS,oBAAT,CAA8BJ,OAA9B,EAAuCE,OAAvC,EAAgD;IAC9C,IAAIZ,SAAS,CAACG,OAAd,EAAuB;MACrB,MAAMc,YAAY,GAAGjB,SAAS,CAACG,OAAV,CAAkBe,sBAAlB,EAArB;MACA,OAAO;QACLT,CAAC,EAAEC,OAAO,GAAGO,YAAY,CAACE,IADrB;QAELR,CAAC,EAAEC,OAAO,GAAGK,YAAY,CAACG;MAFrB,CAAP;IAID,CAND,MAMO;MACL,OAAO,IAAP;IACD;EACF;;EACD,OAAOnB,YAAP;AACD;;GA5BeF,S"},"metadata":{},"sourceType":"module"}